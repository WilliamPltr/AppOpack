{% extends 'core/base.html' %}

{% block title %}Mon Compte{% endblock %}

{% block content %}
<div class="bg-[#fffefb] min-h-screen flex flex-col items-center px-4 py-6 overflow-y-auto">
  <!-- Titre principal -->
  <h1 class="text-2xl font-bold text-center text-[#2c3b2f] font-comfortaa mb-6">
    Mon Compte
  </h1>

  <!-- Message de bienvenue -->
  <p class="text-center text-sm text-[#2c3b2f] font-comfortaa mb-4">
    Bienvenue, <span class="font-bold">{{ user.username }}</span> ! 🎉
  </p>

  <!-- Section : Score utilisateur -->
  <div class="w-full max-w-md bg-white border-l-4 border-[#ebc151] rounded-lg shadow-md p-4 mb-6">
    <h2 class="text-lg font-bold text-[#2c3b2f] font-comfortaa mb-2">Ton Score 🌟</h2>
    <!-- Barre de progression -->
    <div class="w-full bg-[#f5f5f5] h-6 rounded-lg relative overflow-hidden shadow-inner">
      <div 
        class="h-full bg-gradient-to-r from-[#ebc151] to-[#2e7d32] rounded-lg transition-all duration-500"
        style="width: {{ jauge_score|floatformat:0 }}%;">
      </div>
    </div>
    <!-- Texte du score -->
    <p class="text-center text-sm font-comfortaa mt-2">
      Score : <span class="font-bold">{{ profil.score }}</span>/1000
    </p>
  </div>

  <!-- Bouton : Retour à l'accueil -->
  <div class="w-full max-w-md text-center mt-4">
    <a 
      href="{% if request.GET.next %}{{ request.GET.next }}{% else %}{% url 'accueil' %}{% endif %}"
      class="block w-full text-center text-white font-bold py-2 px-6 bg-[#2c3b2f] rounded-lg shadow-md hover:bg-[#374b3c] hover:shadow-lg transition-transform transform hover:-translate-y-1 focus:outline-none focus:ring-2 focus:ring-[#2c3b2f] focus:ring-opacity-50">
      Retour à l'accueil 🏠
    </a>
  </div>

  <!-- Lien : Déconnexion -->
  <div class="w-full max-w-md text-center mt-4">
    <a 
      href="/logout/?next={{ request.GET.next|default:'/' }}" 
      class="text-sm text-gray-500 underline hover:text-gray-700">
      Déconnexion
    </a>
  </div>
</div>
{% endblock %}
